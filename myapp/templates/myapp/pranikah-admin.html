{% extends 'myapp/headfooter2.html' %}
{% load static %}
{% block content %}
<section class="eve-deta-pg py-5">
    <div class="container">
        <div class="eve-deta-pg-main row justify-content-center">
            <div class="lhs">
                <div class="img">
                    <img id="image-preview" src="{% static 'myapp/images/gambar_pranikah.jpg' %}" class="card-img-top" alt="Pranikah">
                </div>
                <div class="head"> <span class="dat"><b>07</b> Jan</span>
                    <h1>Pranikah eps 1</h1>
                </div>
            </div>
			<div class="lhs">
				<div class="list-rhs-form pglist-bg pglist-p-com">
					<div class="quote-pop">
						<h3>Tambah Kelas Pranikah!</h3>
						<div id="blog_detail_enq_success" class="log" style="display: none;">
							<p>Your Enquiry Is Submitted Successfully</p>
						</div>
	
						<!-- Form Tambah Kelas Pranikah -->
						<h2>Tambah Kelas Pranikah</h2>
	
						<!-- Pesan Sukses -->
						{% if messages %}
						<div class="alert alert-success" role="alert" style="margin-bottom: 15px;">
							{% for message in messages %}
							{{ message }}
							{% endfor %}
						</div>
						{% endif %}

	
						<form method="post" action="{% url 'pranikah-admin' %}" enctype="multipart/form-data">
							{% csrf_token %}
							<div class="form-group">
								<label for="id_nama_kelas">Nama Kelas</label>
								<input type="text" class="form-control" id="id_nama_kelas" name="nama_kelas" required>
							</div>
							<div class="form-group">
								<label for="id_tanggal">Tanggal Kelas</label>
								<input type="date" class="form-control" id="id_tanggal" name="tanggal" required>
							</div>
							<div class="form-group">
								<label for="id_gambar">Gambar Kelas</label>
								<input type="file" class="form-control" id="id_gambar" name="gambar" required>
							</div>
							<div class="form-group">
								<label for="id_deskripsi">Deskripsi</label>
								<!-- Kolom dengan CKEditor -->
								<textarea class="form-control" id="id_deskripsi" name="deskripsi" rows="3" required></textarea>
							</div>
							<div class="form-group">
								<label for="id_link_zoom">Link Zoom</label>
								<input type="url" class="form-control" id="id_link_zoom" name="link_zoom" required>
							</div>
							<div class="form-group">
								<label for="id_pembayaran">Link Pembayaran</label>
								<input type="url" class="form-control" id="id_pembayaran" name="pembayaran" required>
							</div>
							<button type="submit" class="btn btn-primary">Tambah Kelas</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Script CKEditor -->
<script src="{% static '/ckeditor/ckeditor/ckeditor.js'%}"></script>
<script>
	CKEDITOR.replace('id_deskripsi', {
        
        resize_enabled: false,
        versionCheck: false // Menonaktifkan pengecekan versi
    });
	// Ambil elemen input file dan preview gambar
    const fileInput = document.getElementById('id_gambar');
    const imagePreview = document.getElementById('image-preview');
    const previewContainer = document.getElementById('image-preview-container');

    // Ketika file gambar dipilih
    fileInput.addEventListener('change', function() {
        const file = fileInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                imagePreview.src = e.target.result;
                previewContainer.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            previewContainer.style.display = 'none';
        }
    });
</script>
{% endblock %}
